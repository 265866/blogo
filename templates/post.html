{{define "title"}}{{.Article.Title}} | {{.Blogo.Title}}{{end}}

{{define "extraHead"}}
<!--SEO and Sharing metas-->
<meta property="og:type" content="article" />
<meta name="description" content="{{.Article.Summary}}">
<meta property="og:description" content="{{.Article.Summary}}" />
<meta name="keywords" content="{{.Article.Tags}}">
<meta property="og:title" content="{{.Article.Title}}" />
<meta property="og:url" content="{{.Blogo.Url}}/p/{{.Article.Slug}}" />

<!--Avoid indexing drafts-->
{{if .Article.Draft}}
    <meta name="robots" content="noindex">
{{end}}

<!--Add image as banner for social sharing-->
{{if ne .Article.Image ""}}
    <meta property="og:image" content="{{.Article.Image}}" />
    <meta property="thumbnail" content="{{.Article.Image}}">
    <meta name="twitter:image" content="{{.Article.Image}}">
{{else}}
    <meta property="og:image" content="{{.Blogo.Url}}/static/assets/logo.png" />
    <meta property="thumbnail" content="{{.Blogo.Url}}/static/assets/logo.png">
    <meta name="twitter:image" content="{{.Blogo.Url}}/static/assets/logo.png">
{{end}}

<!--Add canonical url-->
<link rel="canonical" href="{{.Blogo.Url}}/p/{{.Article.Slug}}" />

<!--Add CSS styles-->
<link rel="stylesheet" type="text/css" href="/static/css/markdown.css">
{{end}}

{{define "main"}}

<section class="py-2 text-center">
    {{if ne .Article.Image ""}}
    <div class="w-full my-4 h-80">
        <img src="{{.Article.Image}}" class="object-cover object-center w-full h-full opacity-90 dark:opacity-75" alt="">
    </div>
    {{end}}

    <h1 class="pt-4 mb-2 text-4xl text-black capitalize md:text-5xl drop-shadow-lg dark:text-slate-100">{{.Article.Title}}</h1>
    <div class="mt-3 mb-3 opacity-50">
        {{if and (ne .Article.NostrUrl "") (ne .Article.NostrUrl "0") (ne .Article.NostrUrl "false")}}
            <div class="text-center">
                <a class="text-sm text-purple-600 underline dark:text-purple-400" href="{{.Article.NostrUrl}}">Read on Nostr</a>
            </div>
        {{end}}
        {{if .Article.Draft}}
            <div class="pb-2 text-center">
                <span class="font-bold badge badge-warning badge-lg">DRAFT</span>
            </div>
        {{end}}
        {{if ne .Article.Author ""}}
            <div class="mt-2 mb-0 text-sm text-black drop-shadow-sm dark:text-slate-100">by {{.Article.Author}}, {{humanizeTime .Article.Date}}</div>
        {{else}}
            <div class="mt-2 mb-0 text-sm font-bold text-black dark:text-slate-100">{{humanizeTime .Article.Date}}</div>
        {{end}}
        {{range .Article.Tags}}
            <span class="inline-block my-2 text-xs text-center text-black dark:text-slate-100">
                <a class="no-underline hover:text-blue-900 dark:hover:text-blue-300" href="/t/{{.}}">#{{.}}</a>
            </span>
        {{end}}
        <p class="pb-1 space-x-2 font-mono text-sm text-center text-base-content">
            (~{{readTime .Article.Md}} min read)
        </p>
    </div>  
</section>

<section class="block px-4 mt-1">
    <div id="markdown" class="max-w-4xl pb-12 mx-auto mt-auto mb-auto prose lg:prose-xl">
        {{html .Article.Html}}
    </div>
</section>

{{end}}